<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui">
    <p:dialog dynamic="true" header="Edit Client" id="clientDialogId" modal="true"
              resizable="false" widgetVar="clientDialog" width="100%" height="90%" style="max-width: 1200px; z-index: 100">
        <p:ajax event="close" listener="#{portfolioForm.resetClientEditForm}" />
        <h:form id="clientEditFormId">
            <div>
                <div class="row">
                    <div class="col-sm-4 col-md-3">
                        <p:outputLabel for="id" value="ID"/>
                        <p:inputNumber id="id" maxlength="11" maxValue="9999999999" minValue="0" thousandSeparator=""
                                       value="#{portfolioForm.client.id}"  disabled="#{not portfolioForm.client.isNew()}">
                        </p:inputNumber>
                    </div>
                    <div class="col-sm-4 col-md-3">
                        <p:outputLabel for="firstNameId" value="Անուն"/>
                        <p:inputText id="firstNameId" value="#{portfolioForm.client.firstName}" styleClass="form-control"
                                     required="true"
                                     requiredMessage="Անունը պարտադիր դաշտ է" placeholder="Անուն"/>
                    </div>
                    <div class="col-sm-4 col-md-3">
                        <p:outputLabel for="lastNameId" value="Ազգանուն"/>
                        <p:inputText id="lastNameId" value="#{portfolioForm.client.lastName}" styleClass="form-control"
                                     required="true"
                                     requiredMessage="Ազգանունը պարտադիր դաշտ է" placeholder="Ազգանուն"/>
                    </div>


                </div>
                <p:outputLabel for="middleNameId" value="Հայրանուն"/>
                <p:inputText id="middleNameId" value="#{portfolioForm.client.middleName}" styleClass="form-control"
                             required="true"
                             requiredMessage="Հայրանունը պարտադիր դաշտ է" placeholder="Հայրանուն"/>

                <p:outputLabel for="phoneNumberId" value="Հեռախոս"/>
                <p:inputMask id="phoneNumberId" value="#{portfolioForm.client.phoneNumber}" styleClass="form-control"
                             required="true" requiredMessage="Հեռախոսը պարտադիր դաշտ է" placeholder="Հեռախոս"
                             mask="(374) 99 999-999"/>

                <p:outputLabel for="counterNumberId" value="Հաշվիչի համար"/>
                <p:inputText id="counterNumberId" value="#{portfolioForm.client.counterNumber}" styleClass="form-control"
                             required="true"
                             requiredMessage="Հաշվիչի համարը պարտադիր դաշտ է" placeholder="Հաշվիչի համար"/>

                <p:outputLabel for="regionId" value="Region"/>
                <p:selectOneMenu id="regionId" value="#{portfolioForm.client.regionId}" styleClass="form-control input-c"
                                 requiredMessage="Region պարտադիր դաշտ է">
                    <f:selectItem id="regionSelectOneId" itemLabel="Ընտրիր մեկը"/>
                    <f:selectItems id="regionsId"
                                   itemLabel="#{region.name}"
                                   itemValue="#{region.id}"
                                   value="#{portfolioForm.cache.regions}" var="region"/>
                    <p:ajax event="change" process="@this" update="@this location1" listener="#{portfolioForm.resetCity}"/>
                </p:selectOneMenu>

                <h:panelGroup id="location1">
                    <p:outputLabel for="cityId" value="City"/>
                    <p:selectOneMenu id="cityId" value="#{portfolioForm.client.cityId}" styleClass="form-control input-c"
                                     requiredMessage="City պարտադիր դաշտ է">
                        <f:selectItem id="citySelectOneId" itemLabel="Ընտրիր մեկը"/>
                        <f:selectItems id="citysId"
                                       itemLabel="#{city.name}"
                                       itemValue="#{city.id}"
                                       value="#{portfolioForm.citiesByRegionId(portfolioForm.client.regionId)}" var="city"/>
                        <p:ajax event="change" process="@this" update="@this streetId"
                                listener="#{portfolioForm.resetStreet}"/>
                    </p:selectOneMenu>

                    <p:outputLabel for="streetId" value="Street"/>
                    <p:selectOneMenu id="streetId" value="#{portfolioForm.client.streetId}"
                                     styleClass="form-control input-c">
                        <f:selectItem id="streetSelectOneId" itemLabel="Ընտրիր մեկը"/>
                        <f:selectItems id="streetsId"
                                       itemLabel="#{street.name}"
                                       itemValue="#{street.id}"
                                       value="#{portfolioForm.streetsByCityId(portfolioForm.client.cityId)}"
                                       var="street"/>
                    </p:selectOneMenu>

                    <p:outputLabel for="homeNumberId" value="Շենք"/>
                    <p:inputNumber id="homeNumberId" maxlength="11" maxValue="9999999999" minValue="0"
                                   value="#{portfolioForm.client.homeNumber}">
                    </p:inputNumber>

                    <p:outputLabel for="appartmentNumberId" value="Տուն"/>
                    <p:inputNumber id="appartmentNumberId" maxlength="11" maxValue="9999999999" minValue="0"
                                   value="#{portfolioForm.client.apartmentNumber}">
                    </p:inputNumber>

                    <p:outputLabel for="ashtId" value="Asht"/>
                    <p:inputNumber id="ashtId" maxlength="11" maxValue="9999999999" minValue="0"
                                   value="#{portfolioForm.client.ashtId}">
                    </p:inputNumber>

                    <p:outputLabel for="grpId" value="GRP"/>
                    <p:selectOneMenu id="grpId" value="#{portfolioForm.client.grpId}"
                                     styleClass="form-control input-c">
                        <f:selectItem id="grpSelectOneId" itemLabel="Ընտրիր մեկը"/>
                        <f:selectItems id="grpsId"
                                       itemLabel="#{grp.name}"
                                       itemValue="#{grp.id}"
                                       value="#{portfolioForm.cache.grps}"
                                       var="grp"/>
                    </p:selectOneMenu>
                </h:panelGroup>

                <div class="col s5 input-field">
                    <p:commandButton value="Պահպանել" styleClass="dark"  action="#{portfolioForm.saveClient}"/>
                </div>
                <div class="col s5 input-field">
                    <p:commandButton id="cancelClientDialogId"  value="Չեղարկել" styleClass="dark" action="#{portfolioForm.cancelClientDialog}" update="clientDialogId"/>
                </div>
            </div>

        </h:form>
    </p:dialog>
</ui:composition>