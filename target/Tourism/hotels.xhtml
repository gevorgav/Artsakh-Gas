<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html >
<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:jsfcore="http://java.sun.com/jsf/core"
      xmlns:ut="http://java.sun.com/jsf/composite/util"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
    <link href="images/favicon.png" rel="shortcut icon"
          type="image/x-icon" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Անալիտիկ</title>
    <meta name="description" content="Admin, Dashboard, Bootstrap, Bootstrap 4, Angular, AngularJS" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <!--file upload imports-->
    <link rel="stylesheet" href="assets/styles/fileUpload.css" type="text/css" />

    <!-- for ios 7 style, multi-resolution icon of 152x152 -->
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-barstyle" content="black-translucent"/>
    <link rel="apple-touch-icon" href="assets/images/logo.png"/>
    <meta name="apple-mobile-web-app-title" content="Flatkit"/>
    <!-- for Chrome on Android, multi-resolution icon of 196x196 -->
    <meta name="mobile-web-app-capable" content="yes"/>
    <link rel="shortcut icon" sizes="196x196" href="assets/images/logo.png"/>

    <!-- style -->
    <link rel="stylesheet" href="assets/animate.css/animate.min.css" type="text/css" />
    <link rel="stylesheet" href="assets/glyphicons/glyphicons.css" type="text/css" />
    <link rel="stylesheet" href="assets/font-awesome/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="assets/material-design-icons/material-design-icons.css" type="text/css" />

    <link rel="stylesheet" href="assets/bootstrap/dist/css/bootstrap.min.css" type="text/css" />
    <!-- build:css assets/styles/app.min.css -->
    <link rel="stylesheet" href="assets/styles/app.css" type="text/css" />
    <!-- endbuild -->
    <link rel="stylesheet" href="assets/styles/font.css" type="text/css" />

</h:head>
<body>



    <div class="app" id="app">


        <!-- ############ LAYOUT START-->

        <!-- aside -->
        <div id="aside" class="app-aside modal fade folded md show-text nav-dropdown">
            <div class="left navside black dk" layout="column">
                <div class="navbar no-radius">
                    <!-- brand -->
                    <a class="navbar-brand">
                        <div ui-include="'assets/images/logo.svg'"></div>
                        <img src="assets/images/logo.png" alt="." class="hide"></img>
                        <span class="hidden-folded inline">Տուրիզմ</span>
                    </a>
                    <!-- / brand -->
                </div>
                <div flex="" class="hide-scroll">
                    <nav class="scroll nav-active-primary">

                        <ul class="nav" ui-nav="">

                            <li>
                                <a href="index.xhtml" >
                    <span class="nav-icon">
                      <i class="material-icons">&#xe3fc;
                        <span ui-include="'assets/images/i_0.svg'"></span>
                      </i>
                    </span>
                                    <span class="nav-text">Վահանակ</span>
                                </a>
                            </li>

                            <h:panelGroup rendered="#{dashboardForm.admin}">
                                <c:if test="#{authorisationUtil.authorisedUser}">
                                <li>
                                    <a href="portfolio.xhtml">
                            <span class="nav-icon">
                              <i class="material-icons">&#xe896;
                                <span ui-include="'assets/images/i_7.svg'"></span>
                              </i>
                            </span>
                                        <span class="nav-text">Թղթապանակ</span>
                                    </a>
                                </li>
                                </c:if>
                            </h:panelGroup>

                            <li>
                                <a>
                    <span class="nav-caret">
                      <i class="fa fa-caret-down"></i>
                    </span>
                    <span class="nav-icon">
                      <i class="material-icons">&#xe1b8;
                        <span ui-include="'assets/images/i_8.svg'"></span>
                      </i>
                    </span>
                                    <span class="nav-text">Վերլուծություն</span>
                                </a>
                                <ul class="nav-sub">
                                    <li>
                                        <a href="map.xhtml" >
                                            <span class="nav-text">Քարտեզ </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="financialChart.xhtml" >
                                            <span class="nav-text">ֆինանսական դիագրամ</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="touristChart.xhtml" >
                                            <span class="nav-text">Զբոսաշրջիկների թվի դիագրամ</span>
                                        </a>
                                    </li>
                                </ul>
                            </li>

                            <li>
                                <a>
                    <span class="nav-caret">
                      <i class="fa fa-caret-down"></i>
                    </span>
                    <span class="nav-icon">
                       <i class="material-icons">&#xE865;
                        <span ui-include="'assets/images/i_3.svg'"></span>
                      </i>
                    </span>
                                    <span class="nav-text">Շտեմարան</span>
                                </a>
                                <ul class="nav-sub">
                                    <li>
                                        <a href="hotels.xhtml">
                                            <span class="nav-text">Հյուրանոցներ</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="restaurant.xhtml">
                                            <span class="nav-text">Ռեստորաններ</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="museum.xhtml">
                                            <span class="nav-text">Թանգարան</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="tourOperator.xhtml">
                                            <span class="nav-text">Տուր օպերատորներ</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="touristSight.xhtml">
                                            <span class="nav-text">Տեսարժան վայրեր</span>
                                        </a>
                                    </li>
                                </ul>
                            </li>


                            <li>
                                <a href="#" >
                    <span class="nav-icon">
                      <i class="material-icons">&#xE88F;
                        <span ui-include="'assets/images/info.svg'"></span>
                      </i>
                    </span>
                                    <span class="nav-text">Օգնություն</span>
                                </a>
                            </li>

                        </ul>
                    </nav>
                </div>
                <!--<div flex-no-shrink="">-->
                    <!--<div ui-include="'views/blocks/aside.top.1.html'"></div>-->
                <!--</div>-->
            </div>
        </div>
        <!-- / -->

        <!-- content -->
        <!-- content -->
        <div id="content" class="app-content box-shadow-z0" role="main">
            <div class="app-header white box-shadow">
                <div class="navbar">
                    <!-- Open side - Naviation on mobile -->
                    <a data-toggle="modal" data-target="#aside" class="navbar-item pull-left hidden-lg-up">
                        <i class="material-icons">&#xe5d2;</i>
                    </a>
                    <!-- / -->

                    <!-- Page title - Bind to $state's title -->
                    <div class="navbar-item pull-left h5" ng-bind="$state.current.data.title" id="pageTitle"></div>

                    <!-- navbar collapse -->
                    <div class="collapse navbar-toggleable-sm" id="collapse">
                        <div ui-include="'views/blocks/navbar.form.right.html'"></div>
                        <!-- link and dropdown -->
                        <!--<ul class="nav navbar-nav">-->
                            <!--<li class="nav-item dropdown">-->
                                <!--<a class="nav-link" href="" data-toggle="dropdown">-->
                                    <!--<i class="fa fa-fw fa-plus text-muted"></i>-->
                                    <!---->
                                    <!--<span>Ավելացնել նոր հյուրանոց</span>-->
                                <!--</a>-->
                                <!--<div ui-include="'views/blocks/dropdown.new.html'"></div>-->
                            <!--</li>-->
                        <!--</ul>-->
                        <!-- / -->
                    </div>
                    <!-- / navbar collapse -->
                </div>
            </div>
            <div class="app-footer">
                <div class="p-a text-xs">
                    <div class="pull-right text-muted">
                        Պատճերաշնորհ <strong>Տուրիզմ</strong>
                        <a ui-scroll-to="content"><i class="fa fa-long-arrow-up p-x-sm"></i></a>
                    </div>
                    <div class="nav">
                        <a class="nav-link" href=""></a>
                    </div>
                </div>
            </div>
            <div ui-view="" class="app-body" id="view">

                <!-- ############ PAGE START-->
                <div class="app-body-inner">
                    <div class="row-col row-col-xs b-b">
                        <!-- /column -->
                        <!-- column -->
                        <div class="col-sm-4 col-md-3 light bg b-r">
                            <div class="row-col">
                                <div class="p-a-xs b-b">
                                    <div class="input-group">
                                        <h:form>
                                            <span class="input-group-addon no-border no-bg"><i class="fa fa-search"></i></span>
                                            <h:selectOneMenu value="#{hotelForm.hotelTypeIdForFind}" styleClass="form-control" id="hotelTypeSelectId">
                                                <f:selectItems value="#{hotelForm.hotelTypes}" var="hType" itemLabel="#{hType.name}" itemValue="#{hType.id}"/>
                                                <f:ajax listener="#{hotelForm.changeHotelType}" render=":hotelsListForm" />
                                            </h:selectOneMenu>
                                        </h:form>
                                    </div>
                                </div>

                                <div class="row-row">
                                    <div class="row-body scrollable hover">
                                        <div class="row-inner">
                                            <div class="list inset">
                                                <h:form id="hotelsListForm">
                                                    <div class="list-item pointer">
                                                        <c:forEach var="hotel" items="#{hotelForm.hotelsWithType}">
                                                                <p:commandLink actionListener="#{hotelForm.edit(hotel.id)}" immediate="true" update=":formId">
                                                                        <div class="list-left" >
                                                                            <span class="w-40 avatar">
                                                                                <c:if test="#{not empty hotel.photoWay}">
                                                                                    <h:graphicImage url="upload/#{hotel.photoWay}"/>
                                                                                </c:if>
                                                                                <c:if test="#{empty hotel.photoWay}">
                                                                                    <img src="assets/images/p0.svg" class="img-circle"></img>
                                                                                </c:if>
                                                                            </span>
                                                                        </div>
                                                                        <div class="list-body">
                                                                            <h:outputText value="#{hotel.name}"/>
                                                                            <div style="float: right">
                                                                                <c:if test="#{authorisationUtil.authorisedUser}">
                                                                                    <h:commandLink styleClass="glyphicon glyphicon-trash" immediate="true" onclick="return confirm('Ջնջել');">
                                                                                        <f:ajax listener="#{hotelForm.delete(hotel.id)}" event="click" render="@this :hotelsListForm :formId"/>
                                                                                    </h:commandLink>
                                                                                </c:if>
                                                                            </div>
                                                                            <small class="block"><i class="fa fa-phone m-r-sm text-muted"></i><h:outputText value="#{hotel.mobilePhoneNumber}"/> </small>
                                                                        </div>
                                                                </p:commandLink>
                                                        </c:forEach>
                                                    </div>
                                                </h:form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="p-a b-t text-center" >
                                    <c:if test="#{authorisationUtil.authorisedUser}">
                                        <div class="de-btn-top" style="margin-right: 230px; margin-top: 2px; ">
                                            <h:form>
                                                <p:commandButton  value="Ավելացնել նորը" styleClass="btn btn-fw primary" action="#{hotelForm.addNew}" update=":formId"/>
                                            </h:form>
                                        </div>
                                    </c:if>
                                    <h:panelGroup layout="block" id="hotelTotalId">
                                        <span>Ընդամենը : #{hotelForm.total()}</span><br/>
                                        <span>Ընդանուր մահճակալների քանակը : #{hotelForm.totalBadCount()}</span>
                                    </h:panelGroup>
                                </div>
                            </div>
                        </div>
                        <!-- /column -->

                        <!-- column -->
                        <div class="col-sm-6 col-md-7">
                            <div class="row-col">
                                <div class="row-row">
                                    <div class="row-body">
                                        <h:panelGroup id="contentId" styleClass="row-inner" layout="block">
                                            <h:panelGroup layout="block" class="padding" style="max-width: 800px; margin: 0 auto;">
                                                <h:form id="formId" enctype="multipart/form-data" prependId="false" onreset="return false">
                                                    <div class="row-col h-auto">
                                                        <div class="form-horizontal">
                                                            <h:messages  infoStyle="color:darkgreen" errorStyle="color:red" globalOnly="true"/>
                                                            <div class="form-group row">
                                                                <div class="col-sm-5">
                                                                    <!--<div class="avatar w-80 inline">-->
                                                                        <!--<c:if test="#{not empty hotelForm.hotel.photoWay}">-->
                                                                            <!--<h:graphicImage url="upload/#{hotelForm.hotel.photoWay}"/>-->
                                                                        <!--</c:if>-->
                                                                    <!--</div>-->
                                                                        <!--<div id="image-preview" style="display: block">-->
                                                                            <label for="image-upload" id="image-label" style="margin-bottom: 20px">Ընտրել Նկարը</label>
                                                                            <h:inputFile name="image" value="#{hotelForm.file}" id="image-upload" mode="simple" skinSimple="false" >
                                                                                <f:validator validatorId="FileUploadValidator"/>
                                                                            </h:inputFile><br/>

                                                                        <h:message for="image-upload" id="messages" style="color: red;"/>

                                                                </div>
                                                                <div class="col-sm-2">
                                                                    <h:outputLabel class="form-control-label">1-5 աստղ</h:outputLabel>
                                                                    <!--<h:inputText id="rateId" styleClass="form-control" value="#{hotelForm.hotel.rate}" validatorMessage="1-5 միջակայքում" converterMessage="1-5 միջակայքում">-->
                                                                        <!--<f:validateLength maximum="1"/>-->
                                                                    <!--</h:inputText>-->
                                                                    <p:rating value="#{hotelForm.hotel.rate}" readonly="false" />
                                                                    <h:message for="rateId" style="color: red;" showDetail="false" showSummary="true"/>
                                                                </div>
                                                                <div class="col-sm-5">
                                                                    <h:outputLabel class="form-control-label">Տիպ *</h:outputLabel>
                                                                    <h:selectOneMenu value="#{hotelForm.hotel.hotelType}" styleClass="form-control" id="hotelTypeId"
                                                                                     required="true" requiredMessage="Տիպը անպայման դաշտ է">
                                                                        <f:validateRequired />
                                                                        <f:selectItem itemValue="" itemLabel="Ընտրել տիպը" />
                                                                        <f:selectItems value="#{hotelForm.hotelTypes}" var="hType" itemLabel="#{hType.name}" itemValue="#{hType.id}"/>
                                                                    </h:selectOneMenu>
                                                                    <h:message for="hotelTypeId" id="typeMessage" style="color: red;" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <div class="col-sm-12">
                                                                <h:outputLabel class="form-control-label">Անվանում *</h:outputLabel>
                                                                <h:inputText styleClass="form-control" value="#{hotelForm.hotel.name}"
                                                                             required="true" requiredMessage="Անվանում անպայման դաշտ է" id="nameId" >
                                                                    <f:validateRequired />
                                                                    <f:validator validatorId="HotelNameUniqueValidator"/>
                                                                </h:inputText>
                                                                <h:message for="nameId" id="nameMessage" style="color: red;" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- fields -->
                                                    <div class="form-horizontal">

                                                        <div class="form-group row">
                                                            <div class="col-sm-6">
                                                                <h:outputLabel class="form-control-label">Տնօրենի ԱԱՀ</h:outputLabel>
                                                                <h:inputText styleClass="form-control" value="#{hotelForm.hotel.directorFullName}"/>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <h:outputLabel class="form-control-label">Իրավաբանական անվանում</h:outputLabel>
                                                                <h:inputText styleClass="form-control" value="#{hotelForm.hotel.legalName}"/>
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <div class="col-sm-6">
                                                                <h:outputLabel class="form-control-label">Էլեկրոնային փոստ</h:outputLabel>
                                                                <h:inputText styleClass="form-control" value="#{hotelForm.hotel.email}"/>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <h:outputLabel class="form-control-label">Կայք</h:outputLabel>
                                                                <h:inputText styleClass="form-control" value="#{hotelForm.hotel.site}"/>
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <div class="col-sm-12">
                                                                <h:outputLabel class="form-control-label">Հասցե</h:outputLabel>
                                                                <h:inputText styleClass="form-control" value="#{hotelForm.hotel.address}"/>
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <div class="col-sm-6">
                                                                <h:outputLabel class="form-control-label">Հեռախոս</h:outputLabel>
                                                                <p:inputMask styleClass="form-control" style="box-shadow: none; border:1px solid rgba(120, 130, 140, 0.2) !important;" maxlength="10" mask="(999)99-99-99" value="#{hotelForm.hotel.phoneNumber}"/>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <h:outputLabel class="form-control-label">Բջջային հեռախոս</h:outputLabel>
                                                                <p:inputMask styleClass="form-control" style="box-shadow: none; border:1px solid rgba(120, 130, 140, 0.2) !important;" maxlength="10" mask="(999)99-99-99" value="#{hotelForm.hotel.mobilePhoneNumber}"/>

                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <div class="col-sm-6">
                                                                <h:outputLabel class="form-control-label">Մեկ տեղ</h:outputLabel>
                                                                <h:inputText styleClass="form-control" value="#{hotelForm.hotel.singleRoom}" id="singleRoomId" converterMessage="*թիվ"/>
                                                                <h:message for="singleRoomId" style="color: red;" showDetail="false" showSummary="true"/>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <h:outputLabel class="form-control-label">Երկու տեղ</h:outputLabel>
                                                                <h:inputText id="doubleRoomId" styleClass="form-control" value="#{hotelForm.hotel.doubleRoom}" converterMessage="*թիվ"/>
                                                                <h:message for="doubleRoomId" style="color: red;" showDetail="false" showSummary="true"/>
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <div class="col-sm-6">
                                                                <h:outputLabel class="form-control-label">Երեք տեղ</h:outputLabel>
                                                                <h:inputText id="tripleRoomId" styleClass="form-control" value="#{hotelForm.hotel.tripleRoom}" converterMessage="*թիվ"/>
                                                                <h:message for="tripleRoomId" style="color: red;" showDetail="false" showSummary="true"/>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <h:outputLabel class="form-control-label">Այլ համարներ</h:outputLabel>
                                                                <h:inputText id="otherRoomId" styleClass="form-control" value="#{hotelForm.hotel.otherRoom}" converterMessage="*թիվ"/>
                                                                <h:message for="otherRoomId" style="color: red;" showDetail="false" showSummary="true"/>
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <div class="col-sm-6">
                                                                <h:outputLabel class="form-control-label">Համարների քանակ</h:outputLabel>
                                                                <h:inputText id="roomCountId" styleClass="form-control" value="#{hotelForm.hotel.roomCount}" converterMessage="*թիվ"/>
                                                                <h:message for="roomCountId" style="color: red;" showDetail="false" showSummary="true"/>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <h:outputLabel class="form-control-label">Մահճակալների քանակ</h:outputLabel>
                                                                <h:inputText id="bedCountId" styleClass="form-control" value="#{hotelForm.hotel.bedCount}" converterMessage="*թիվ"/>
                                                                <h:message for="bedCountId" style="color: red;" showDetail="false" showSummary="true"/>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <c:if test="#{authorisationUtil.authorisedUser}">
                                                        <div class="de-btn-top">
                                                            <p:commandButton ajax="false" value="Պահպանել" styleClass="btn btn-fw primary"  actionListener="#{hotelForm.save}" update="@form :hotelsListForm" >
                                                            </p:commandButton>
                                                            <h:commandLink immediate="true" value="Դուրս գալ" styleClass="btn " actionListener="#{authorisationUtil.signout}"/>
                                                        </div>
                                                    </c:if>
                                                    <c:if test="#{!authorisationUtil.authorisedUser}">
                                                        <div class="de-btn-top">
                                                            <h:commandLink immediate="true" value="Մուտք" styleClass="btn " actionListener="#{authorisationUtil.signIn}"/>
                                                        </div>
                                                    </c:if>
                                                </h:form>
                                            </h:panelGroup>
                                                <!-- / fields -->
                                        </h:panelGroup>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /column -->
                    </div>
                </div>

                <!-- ############ PAGE END-->

            </div>
        </div>
        <!-- / -->

    </div>



    <!-- build:js scripts/app.html.js -->
    <!-- jQuery -->
    <script type="text/javascript" src="javax.faces.resource/jquery/jquery.js.xhtml?ln=primefaces&amp;v=6.0"></script>
    <script type="text/javascript" src="javax.faces.resource/jquery/jquery-plugins.js.xhtml?ln=primefaces&amp;v=6.0"></script>
    <script type="text/javascript" src="javax.faces.resource/core.js.xhtml?ln=primefaces&amp;v=6.0"></script>
    <script type="text/javascript" src="javax.faces.resource/components.js.xhtml?ln=primefaces&amp;v=6.0"></script>
    <!-- Bootstrap -->
    <script src="libs/jquery/tether/dist/js/tether.min.js"></script>
    <script src="libs/jquery/bootstrap/dist/js/bootstrap.js"></script>
    <!-- core -->
    <script src="libs/jquery/underscore/underscore-min.js"></script>
    <script src="libs/jquery/jQuery-Storage-API/jquery.storageapi.min.js"></script>
    <script src="libs/jquery/PACE/pace.min.js"></script>

    <script src="scripts/config.lazyload.js"></script>

    <script src="scripts/palette.js"></script>
    <script src="scripts/ui-load.js"></script>
    <script src="scripts/ui-jp.js"></script>
    <script src="scripts/ui-include.js"></script>
    <script src="scripts/ui-device.js"></script>
    <script src="scripts/ui-form.js"></script>
    <script src="scripts/ui-nav.js"></script>
    <script src="scripts/ui-screenfull.js"></script>
    <script src="scripts/ui-scroll-to.js"></script>
    <script src="scripts/ui-toggle-class.js"></script>

    <script src="scripts/app.js"></script>
    <!--file upload JS-->
    <script type="text/javascript" src="scripts/jquery.uploadPreview.js"></script>
    <script type="text/javascript">
//        $(document).ready(function() {
//            $.uploadPreview({
//                input_field: "#image-upload",
//                preview_box: "#image-preview",
//                label_field: "#image-label"
//            });
//        });
    </script>

    <!-- ajax -->
    <!--<script src="libs/jquery/jquery-pjax/jquery.pjax.js"></script>-->
    <!--<script src="scripts/ajax.js"></script>-->
    <!-- endbuild -->

</body>
</html>